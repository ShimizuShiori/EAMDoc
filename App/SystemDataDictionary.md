# 系统数字字典

## 简介

数字字典理就应有一部分是与代码存在耦合度的。
这些字典的 Code 以及项的 Value 都会在代码中出现。

这样的字典，我们称之为 **系统数字字典**

**系统数字字典** 还包含 **系统项** 和 **非系统项**

在代码中出现的 Value 称之为 **系统项**
如：
```
Value = 1, Text = 维修中
在代码中 编写了，对 Value == 1 时的判断。
此时 Value = 1 就是系统项，因为它的值若发生变化，会对代码造成非常大的影响。
```

由于 **系统数字字典** 具备上述的特性。
故而，在系统布署后，由操作人员通过 UI 去创建这些 **系统数字字典** 是不合理的。
所以，我们设计了 **系统数字字典** 初始化的功能。

## 使用方法

*Dexi.EAM.App/EventHandlers/ApplicationEventHandlers/CreateSystemDictionary.cs* 该文件是负责创建系统数字字典的。

可以参考 *OnStarted* 中已有的代码编写新的 **系统数字字典** 的初始化。

## 同步更新

对 *Dexi.EAM.App/EventHandlers/ApplicationEventHandlers/CreateSystemDictionary.cs* 中已有的字典进行 *项* 的更新，会在系统启动后。
对比已有的数字字典中的 MD5 摘要信息，若发现变化，则会自动删除项，并重建。
```
# md5的公式
= md5({字典编号}_{是否多选}_{项个数} : {项1值}={项1文本},{项2值}={项2文本})
```

## 对 UI 的影响

* 系统字典不允许删除
* 系统字典与其它字典不一样，只能修改名称，不能修改编码
* 系统字典的系统项，只能修改名称
* 系统字典可以创建新的 **非系统项**
* **非系统项** 可以删除，但 **系统项** 不可以删除